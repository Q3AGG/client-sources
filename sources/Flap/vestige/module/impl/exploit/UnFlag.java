package vestige.module.impl.exploit;

import net.minecraft.util.Timer;
import vestige.event.Listener;
import vestige.event.impl.MotionEvent;
import vestige.module.Category;
import vestige.module.Module;

public class UnFlag extends Module {
   private int jumped;
   private double y;

   public UnFlag() {
      super("Unflag", Category.ULTILITY);
   }

   public void onEnable() {
      this.jumped = 0;
      this.y = mc.thePlayer.posY;
   }

   public boolean onDisable() {
       mc.timer.timerSpeed = 1.0F;
      super.onDisable();
      return false;
   }

   @Listener
   public void onMotion(MotionEvent event) {
      if (mc.thePlayer.onGround && this.jumped <= 25) {
         mc.thePlayer.motionY = 0.11D;
         ++this.jumped;
      }

      Timer var10000;
      if (this.jumped <= 25) {
         mc.thePlayer.posY = this.y;
         var10000 = mc.timer;
         var10000.timerSpeed = 2.25F;
      } else {
         var10000 = mc.timer;
         var10000.timerSpeed = 1.0F;
         this.toggle();
      }

   }
}
